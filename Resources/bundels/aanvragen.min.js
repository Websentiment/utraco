function load(){$(".request-temp .text").stickThis({top:85,zindex:9,pushup:"footer"});$(".JS-nav li[data-step]").on("click",function(){changeStep($(this).data("step"))});$(".banner .button-list").filter(function(){return $(this).find("li").length<4}).addClass("long");setDatepickers();changeStep(2)}function showAlert(n){$(".JS-alert").removeClass("hidden").html(n);$(".JS-alert")[0].scrollIntoView()}function setDatepickers(){$(".JS-dob").each(function(){$(this).data("datepicker")===undefined&&$(this).datepicker({format:"dd-mm-yyyy",autoclose:!0})});$(".JS-date-range").each(function(){var n=$(this).find(".JS-date-min"),t=$(this).find(".JS-date-max");n.data("max",t);t.data("min",n);$([n,t]).each(function(){if($(this).data("datepicker")===undefined)$(this).datepicker({format:"dd-mm-yyyy",autoclose:!0}).on("changeDate",function(n){var i=$(this).data("min"),r=$(this).data("max"),u=i!==undefined,f=new Date(n.date.valueOf()),t=new Date(n.date.valueOf()),e=99;u?t.setDate(t.getDate()-e):t.setDate(t.getDate()+e);var s=t.getDate(),h=t.getMonth()+1,c=t.getFullYear(),o=s+"/"+h+"/"+c;u?(i.datepicker("setStartDate",o),i.datepicker("setEndDate",f)):(r.datepicker("setStartDate",f),r.datepicker("setEndDate",o))})})})}function getFormData(n){var t={};return $.each(n,function(){$(this).find("input, select").each(function(){var i=$(this).prop("tagName").toLowerCase(),n=$(this).data("f-id")?$(this).data("f-id"):$(this).attr("id");if(i==="input")switch($(this).attr("type")){case"checkbox":t[n]=$(this).is(":checked");break;default:t[n]=$(this).val()}else i==="select"&&(t[n]=$(this).find("option:selected").val())})}),t}function changeStep(n){$(".JS-step[data-step]").each(function(){$(this).data("step")===n?$(this).removeClass("hidden"):$(this).addClass("hidden")});$(".JS-nav li[data-step]").each(function(){$(this).data("step")===n?($(".JS-title").html($(this).html()),$(this).addClass("active")):$(this).removeClass("active")});switch(n){case 1:$(".JS-betaal").addClass("hidden");$(".JS-prices").addClass("hidden");break;case 2:initStepTwo();$(".JS-betaal").addClass("hidden");$(".JS-prices").removeClass("hidden");break;case 3:initStepThree();$(".JS-betaal").addClass("hidden");$(".JS-prices").removeClass("hidden");break;case 4:initStepFour();$(".JS-betaal").removeClass("hidden");$(".JS-prices").removeClass("hidden")}berekenKosten()}function getBase64(n,t){var i=new FileReader;i.readAsDataURL(n);i.onload=function(){$(t).data("src",i.result);$(t).data("ext",n.type);$(".loading").hide()};i.onerror=function(n){console.log("Error: ",n);$(".loading").hide()}}function uploadFiles(n,t,i){var r=t.length;t.each(function(){var t=$(this).prop("files"),e;if(t.length>0){var u=$(this).data("src"),f=$(this).data("ext"),o=t[0];u&&f&&o.size<=2097152&&(e={sBase64:u,sType:f,iPersID:n,sInputID:$(this).attr("data-f-id")?$(this).attr("data-f-id"):$(this).attr("id")},AjaxRequest("POST","/aanvragen.aspx/filesUpload",e,"","json",function(){r-=1;r===0&&i()}))}else i()})}function berekenKosten(){var u=$(".JS-aantal"),f=$(".JS-service-totaal"),e=$(".JS-visum-totaal"),o=$(".JS-subtotaal"),n=parseFloat($("#hidAantal").val()?$("#hidAantal").val():2),s=parseFloat($("#hidVisum").data("prijs")),h=parseFloat($("#hidService").data("opslag")),c=parseFloat($("#hidService").data("prijs")),t=(s+h)*n,i=c*n,r=t+i;e.html(t.toFixed(2).toString().replace(".",","));f.html(i.toFixed(2).toString().replace(".",","));o.html(r.toFixed(2).toString().replace(".",",")).data("price",r);u.html(n);calculateTotal()}function initStepTwo(){validationStepTwo();$(".loading").hide()}function scrollTop(){return $("html,body").animate({scrollTop:$("body").offset().top},1e3),!1}function saveStepTwo(){$(".loading").show();var n=getFormData([$(".JS-step[data-step='1']"),$(".JS-step[data-step='2']")]);n.ddlVisums=$("#hidVisum").val();n.ddlServices=$("#hidService").val();AjaxRequest("POST","/aanvragen.aspx/sStepTwo",{data:n},"","json",function(){var n,t;sMsg.d!==""&&(n=JSON.parse(sMsg.d),n.msg==="200"?(t=$(".JS-step[data-step='2'] .JS-file"),uploadFiles(n.iPersID,t,function(){changeStep(3);$(".loading").hide()})):n.msg==="500"?(showAlert("Er is iets fouts gegaan. Proebeer nog een keer"),$(".loading").hide()):n.msg==="step1"?(changeStep(1),$(".loading").hide()):n.msg==="refresh"&&window.location.reload(!0))})}function validationStepTwo(){$(".JS-step[data-step='2']").formValidation({framework:"bootstrap",icon:{valid:"fas fa-check",invalid:"fas fa-times",validating:"fas fa-sync"},fields:{ctl00$ContentPlaceHolder1$txtVertrekDatum:{trigger:"blur, change",validators:{date:{format:"DD-MM-YYYY",message:"Datum formaat klopt niet, 00 00 0000"},notEmpty:{message:"Datum is niet ingevuld."}}},ctl00$ContentPlaceHolder1$txtTerugkomDatum:{trigger:"blur, change",validators:{date:{format:"DD-MM-YYYY",message:"Datum formaat klopt niet, 00 00 0000"},notEmpty:{message:"Datum is niet ingevuld."}}},ctl00$ContentPlaceHolder1$txtBedrijfsnaam:{trigger:"blur",validators:{regexp:{regexp:/^[a-zA-ZàáâäãåąčćęèéêëėįìíîïłńòóôöõøùúûüųūÿýżźñçčšžÀÁÂÄÃÅĄĆČĖĘÈÉÊËÌÍÎÏĮŁŃÒÓÔÖÕØÙÚÛÜŲŪŸÝŻŹÑßÇŒÆČŠŽ∂ð ,.'-]+$/,message:"Naam kan alleen bestaan uit letters."}}},ctl00$ContentPlaceHolder1$ddlAanhef:{trigger:"blur",validators:{notEmpty:{message:"U moet aanhef kiezen."}}},ctl00$ContentPlaceHolder1$txtVoornaam:{trigger:"blur",validators:{notEmpty:{message:"Uw naam is niet ingevuld."},regexp:{regexp:/^[a-zA-ZàáâäãåąčćęèéêëėįìíîïłńòóôöõøùúûüųūÿýżźñçčšžÀÁÂÄÃÅĄĆČĖĘÈÉÊËÌÍÎÏĮŁŃÒÓÔÖÕØÙÚÛÜŲŪŸÝŻŹÑßÇŒÆČŠŽ∂ð ,.'-]+$/,message:"Naam kan alleen bestaan uit letters."}}},ctl00$ContentPlaceHolder1$txtAchternaam:{trigger:"blur",validators:{notEmpty:{message:"Uw achternaam is niet ingevuld."},regexp:{regexp:/^[a-zA-ZàáâäãåąčćęèéêëėįìíîïłńòóôöõøùúûüųūÿýżźñçčšžÀÁÂÄÃÅĄĆČĖĘÈÉÊËÌÍÎÏĮŁŃÒÓÔÖÕØÙÚÛÜŲŪŸÝŻŹÑßÇŒÆČŠŽ∂ð ,.'-]+$/,message:"Achternaam kan alleen bestaan uit letters."}}},ctl00$ContentPlaceHolder1$txtGeboortedatum:{trigger:"blur, change",validators:{date:{format:"DD-MM-YYYY",message:"Datum format klopt niet, 00 00 0000"},notEmpty:{message:"Datum is niet ingevuld."}}},ctl00$ContentPlaceHolder1$txtGeborteplaats:{trigger:"blur",validators:{notEmpty:{message:"Uw geboorteplaats is niet ingevuld."},regexp:{regexp:/^[a-zA-ZàáâäãåąčćęèéêëėįìíîïłńòóôöõøùúûüųūÿýżźñçčšžÀÁÂÄÃÅĄĆČĖĘÈÉÊËÌÍÎÏĮŁŃÒÓÔÖÕØÙÚÛÜŲŪŸÝŻŹÑßÇŒÆČŠŽ∂ð ,.'-]+$/,message:"Geborteplaats kan alleen bestaan uit letters."}}},ctl00$ContentPlaceHolder1$ddlGeborteland:{trigger:"blur",validators:{notEmpty:{message:"U moet uw geboorteland kiezen."}}},ctl00$ContentPlaceHolder1$txtBeroep:{trigger:"blur",validators:{notEmpty:{message:"Uw beroep is niet ingevuld."},regexp:{regexp:/^[a-zA-ZàáâäãåąčćęèéêëėįìíîïłńòóôöõøùúûüųūÿýżźñçčšžÀÁÂÄÃÅĄĆČĖĘÈÉÊËÌÍÎÏĮŁŃÒÓÔÖÕØÙÚÛÜŲŪŸÝŻŹÑßÇŒÆČŠŽ∂ð ,.'-]+$/,message:"Beroep kan alleen bestaan uit letters."}}},ctl00$ContentPlaceHolder1$txtTel:{trigger:"blur",validators:{notEmpty:{message:"Postcode is niet ingevuld."},regexp:{regexp:/^[0-9+]*$/,message:"Een mobiele telefoonnummer mag alleen bestaan uit cijfers."},stringLength:{min:8,message:"Een mobiele telefoonnummer moet minimaal 8 cijfers hebben."}}},ctl00$ContentPlaceHolder1$txtPostcode:{trigger:"blur",validators:{notEmpty:{message:"Postcode is niet ingevuld."},zipCode:{country:"NL",message:"De postcode is niet geldig"}}},ctl00$ContentPlaceHolder1$txtToev:{trigger:"blur",validators:{regexp:{regexp:/^[a-z0-9]{0,8}$/,message:"U kunt niet meer dan 8 tekens gebruiken."}}},ctl00$ContentPlaceHolder1$txtStraat:{trigger:"blur",validators:{notEmpty:{message:"Straatnaam is niet ingevuld."},regexp:{regexp:/^[a-zA-ZàáâäãåąčćęèéêëėįìíîïłńòóôöõøùúûüųūÿýżźñçčšžÀÁÂÄÃÅĄĆČĖĘÈÉÊËÌÍÎÏĮŁŃÒÓÔÖÕØÙÚÛÜŲŪŸÝŻŹÑßÇŒÆČŠŽ∂ð ,.'-]+$/,message:"Straatnaam kan alleen bestaan uit letters."}}},ctl00$ContentPlaceHolder1$txtHouseNr:{trigger:"blur",validators:{notEmpty:{message:"Huisnummer is niet ingevuld."},numeric:{message:"Huisnummer kan alleen bestaan uit cijfers."}}},ctl00$ContentPlaceHolder1$txtPlaats:{trigger:"blur",validators:{notEmpty:{message:"Woonplaats is niet ingevuld. "},regexp:{regexp:/^[a-zA-ZàáâäãåąčćęèéêëėįìíîïłńòóôöõøùúûüųūÿýżźñçčšžÀÁÂÄÃÅĄĆČĖĘÈÉÊËÌÍÎÏĮŁŃÒÓÔÖÕØÙÚÛÜŲŪŸÝŻŹÑßÇŒÆČŠŽ∂ð ,.'-]+$/,message:"Woonplaats kan alleen bestaan uit letters."}}},ctl00$ContentPlaceHolder1$ddlLand:{trigger:"blur",validators:{notEmpty:{message:"U moet een nationaliteit kiezen."}}},ctl00$ContentPlaceHolder1$txtPaspoortnummer:{trigger:"blur",validators:{notEmpty:{message:"Uw paspoortnummer is niet ingevuld."}}},ctl00$ContentPlaceHolder1$txtPaspoortLand:{trigger:"blur",validators:{notEmpty:{message:"Uw uitgifteland is niet ingevuld."}}},ctl00$ContentPlaceHolder1$fuPassport:{validators:{notEmpty:{message:"U dient een bestand te kiezen."},file:{extension:"png,jpeg,jpg,pdf",type:"image/png,image/jpg,image/jpeg,application/pdf",maxSize:2097152,message:"U kunt alleen een png, jpeg, jpg of pdf bestand uploaden van maximaal 2MB."}}},ctl00$ContentPlaceHolder1$fuPaspoortFoto:{validators:{notEmpty:{message:"U dient een bestand te kiezen."},file:{extension:"png,jpeg,jpg,pdf",type:"image/png,image/jpg,image/jpeg,application/pdf",maxSize:2097152,message:"U kunt alleen een png, jpeg, jpg of pdf bestand uploaden van maximaal 2MB."}}},ctl00$ContentPlaceHolder1$fuVliegticket:{validators:{notEmpty:{message:"U dient een bestand te kiezen."},file:{extension:"png,jpeg,jpg,pdf",type:"image/png,image/jpg,image/jpeg,application/pdf",maxSize:2097152,message:"U kunt alleen een png, jpeg, jpg of pdf bestand uploaden van maximaal 2MB."}}},ctl00$ContentPlaceHolder1$fuVerblijf:{validators:{notEmpty:{message:"U dient een bestand te kiezen."},file:{extension:"png,jpeg,jpg,pdf",type:"image/png,image/jpg,image/jpeg,application/pdf",maxSize:2097152,message:"U kunt alleen een png, jpeg, jpg of pdf bestand uploaden van maximaal 2MB."}}},ctl00$ContentPlaceHolder1$fuUitnodiging:{validators:{notEmpty:{message:"U dient een bestand te kiezen."},file:{extension:"png,jpeg,jpg,pdf",type:"image/png,image/jpg,image/jpeg,application/pdf",maxSize:2097152,message:"U kunt alleen een png, jpeg, jpg of pdf bestand uploaden van maximaal 2MB."}}}}})}function initStepThree(){var n=parseInt($("#hidAantal").val()===""?2:$("#hidAantal").val())-1;AjaxRequest("POST","/aanvragen.aspx/selectFellowTravelers",{bOnlyFellow:!0},"","json",function(){var t,i;if(sMsg.d!==""){for(objFellow=JSON.parse(sMsg.d),t=objFellow.length,n=t>n?t:n,n-=$(".JS-fellow:not(.hidden)").length,i=0;i<n;i++)addFellow();objFellow=[]}});$(".loading").hide()}function saveFellow(){var t,n,i;if(countFellowSave>0)return!1;for(countFellowSave===0&&changeStep(4),$(".loading").show(),t=$(".JS-fellow:not(.hidden)").length,countFellowSave=t,n=0;n<t;n++)i=getFormData([$(".JS-fellow:not(.hidden)")[n]]),i.iFellowIndex=n,AjaxRequest("POST","/aanvragen.aspx/sFellow",{data:i},"","json",function(){var n,i,r;countFellowSave-=1;n=t-1-countFellowSave;sMsg.d!==""&&(i=JSON.parse(sMsg.d),r=$($($(".JS-fellow:not(.hidden)")[n]).find(".JS-file")),uploadFiles(i.iPersID,r,function(){countFellowSave===0&&($(".loading").hide(),changeStep(4))}))})}function addFellow(){var n,t;if(iFellowThree===9)return!1;n=$(".JS-fellow.hidden").clone();n.removeClass("hidden");iFellowThree===0&&n.find(".btn-fellow-del").remove();n.find("input, select").each(function(){var t=$(this).data("f-id"),r=n.find("label[for='"+t+"']"),i=t+iFellowThree;$(this).attr("id",i);r.attr("for",i)});t=objFellow[iFellowThree];t!==undefined&&n.find("input, select").each(function(){$(this).attr("type")==="checkbox"?($(this).prop("checked",t[$(this).attr("data-f-id")]),showExtra(this)):$(this).val(t[$(this).attr("data-f-id")])});n.insertAfter(".JS-fellow:last");setDatepickers();cloneValidation(n);iFellowThree++;$("#hidAantal").val(iFellowThree+1);berekenKosten()}function removeFellow(){var n=$($(this).parents(".JS-fellow:not(.hidden)")[0]),t=n.index()-2;n.remove();AjaxRequest("POST","/aanvragen.aspx/dFellow",{iFellow:t},"","json",function(){iFellowThree--;$("#hidAantal").val(iFellowThree+1);berekenKosten()})}function showExtra(n){var i=".JS-fellow-date",t;$(n).hasClass("JS-fellow-cbAddress")&&(i=".JS-fellow-address");t=$(n).parents(".JS-fellow").find(i);$(n).is(":checked")?t.removeClass("hidden"):t.addClass("hidden")}function cloneValidation(n){n.find("input").each(function(){$(this).attr("name","ctl00$ContentPlaceHolder1$"+$(this).attr("data-f-id"))});n.formValidation({framework:"bootstrap",icon:{valid:"fas fa-check",invalid:"fas fa-times",validating:"fas fa-sync"},fields:{ctl00$ContentPlaceHolder1$txtVertrekDatum:{trigger:"blur",validators:{date:{format:"DD-MM-YYYY",message:"Datum formaat klopt niet, 00 00 0000"},notEmpty:{message:"Datum is niet ingevuld."}}},ctl00$ContentPlaceHolder1$txtTerugkomDatum:{trigger:"blur",validators:{date:{format:"DD-MM-YYYY",message:"Datum formaat klopt niet, 00 00 0000"},notEmpty:{message:"Datum is niet ingevuld."}}},ctl00$ContentPlaceHolder1$ddlAanhef:{trigger:"blur",validators:{notEmpty:{message:"U moet aanhef kiezen."}}},ctl00$ContentPlaceHolder1$txtVoornaam:{trigger:"blur",validators:{notEmpty:{message:"Uw naam is niet ingevuld."},regexp:{regexp:/^[a-zA-ZàáâäãåąčćęèéêëėįìíîïłńòóôöõøùúûüųūÿýżźñçčšžÀÁÂÄÃÅĄĆČĖĘÈÉÊËÌÍÎÏĮŁŃÒÓÔÖÕØÙÚÛÜŲŪŸÝŻŹÑßÇŒÆČŠŽ∂ð ,.'-]+$/,message:"Naam kan alleen bestaan uit letters."}}},ctl00$ContentPlaceHolder1$txtAchternaam:{trigger:"blur",validators:{notEmpty:{message:"Uw achternaam is niet ingevuld."},regexp:{regexp:/^[a-zA-ZàáâäãåąčćęèéêëėįìíîïłńòóôöõøùúûüųūÿýżźñçčšžÀÁÂÄÃÅĄĆČĖĘÈÉÊËÌÍÎÏĮŁŃÒÓÔÖÕØÙÚÛÜŲŪŸÝŻŹÑßÇŒÆČŠŽ∂ð ,.'-]+$/,message:"Achternaam kan alleen bestaan uit letters."}}},ctl00$ContentPlaceHolder1$txtGeboortedatum:{trigger:"blur, change",validators:{date:{format:"DD-MM-YYYY",message:"Datum format klopt niet, 00 00 0000"},notEmpty:{message:"Datum is niet ingevuld."}}},ctl00$ContentPlaceHolder1$txtGeborteplaats:{trigger:"blur",validators:{notEmpty:{message:"Uw geboorteplaats is niet ingevuld."},regexp:{regexp:/^[a-zA-ZàáâäãåąčćęèéêëėįìíîïłńòóôöõøùúûüųūÿýżźñçčšžÀÁÂÄÃÅĄĆČĖĘÈÉÊËÌÍÎÏĮŁŃÒÓÔÖÕØÙÚÛÜŲŪŸÝŻŹÑßÇŒÆČŠŽ∂ð ,.'-]+$/,message:"Geborteplaats kan alleen bestaan uit letters."}}},ctl00$ContentPlaceHolder1$ddlGeborteland:{trigger:"blur",validators:{notEmpty:{message:"U moet uw geboorteland kiezen."}}},ctl00$ContentPlaceHolder1$txtBeroep:{trigger:"blur",validators:{notEmpty:{message:"Uw beroep is niet ingevuld."},regexp:{regexp:/^[a-zA-ZàáâäãåąčćęèéêëėįìíîïłńòóôöõøùúûüųūÿýżźñçčšžÀÁÂÄÃÅĄĆČĖĘÈÉÊËÌÍÎÏĮŁŃÒÓÔÖÕØÙÚÛÜŲŪŸÝŻŹÑßÇŒÆČŠŽ∂ð ,.'-]+$/,message:"Beroep kan alleen bestaan uit letters."}}},ctl00$ContentPlaceHolder1$txtTel:{trigger:"blur",validators:{notEmpty:{message:"Postcode is niet ingevuld."},regexp:{regexp:/^[0-9+]*$/,message:"Een mobiele telefoonnummer mag alleen bestaan uit cijfers."},stringLength:{min:8,message:"Een mobiele telefoonnummer moet minimaal 8 cijfers hebben."}}},ctl00$ContentPlaceHolder1$txtPostcode:{trigger:"blur",validators:{notEmpty:{message:"Postcode is niet ingevuld."},zipCode:{country:"NL",message:"De postcode is niet geldig"}}},ctl00$ContentPlaceHolder1$txtToev:{trigger:"blur",validators:{regexp:{regexp:/^[a-z0-9]{0,8}$/,message:"U kunt niet meer dan 8 tekens gebruiken."}}},ctl00$ContentPlaceHolder1$txtStraat:{trigger:"blur",validators:{notEmpty:{message:"Straatnaam is niet ingevuld."},regexp:{regexp:/^[a-zA-ZàáâäãåąčćęèéêëėįìíîïłńòóôöõøùúûüųūÿýżźñçčšžÀÁÂÄÃÅĄĆČĖĘÈÉÊËÌÍÎÏĮŁŃÒÓÔÖÕØÙÚÛÜŲŪŸÝŻŹÑßÇŒÆČŠŽ∂ð ,.'-]+$/,message:"Straatnaam kan alleen bestaan uit letters."}}},ctl00$ContentPlaceHolder1$txtHouseNr:{trigger:"blur",validators:{notEmpty:{message:"Huisnummer is niet ingevuld."},numeric:{message:"Huisnummer kan alleen bestaan uit cijfers."}}},ctl00$ContentPlaceHolder1$txtPlaats:{trigger:"blur",validators:{notEmpty:{message:"Woonplaats is niet ingevuld. "},regexp:{regexp:/^[a-zA-ZàáâäãåąčćęèéêëėįìíîïłńòóôöõøùúûüųūÿýżźñçčšžÀÁÂÄÃÅĄĆČĖĘÈÉÊËÌÍÎÏĮŁŃÒÓÔÖÕØÙÚÛÜŲŪŸÝŻŹÑßÇŒÆČŠŽ∂ð ,.'-]+$/,message:"Woonplaats kan alleen bestaan uit letters."}}},ctl00$ContentPlaceHolder1$ddlLand:{trigger:"blur",validators:{notEmpty:{message:"U moet een nationaliteit kiezen."}}},ctl00$ContentPlaceHolder1$txtPaspoortnummer:{trigger:"blur",validators:{notEmpty:{message:"Uw paspoortnummer is niet ingevuld."}}},ctl00$ContentPlaceHolder1$txtPaspoortLand:{trigger:"blur",validators:{notEmpty:{message:"Uw uitgifteland is niet ingevuld."}}},ctl00$ContentPlaceHolder1$fuPassport:{validators:{notEmpty:{message:"U dient een bestand te kiezen."},file:{extension:"png,jpeg,jpg,pdf",type:"image/png,image/jpg,image/jpeg,application/pdf",maxSize:2097152,message:"U kunt alleen een png, jpeg, jpg of pdf bestand uploaden van maximaal 2MB."}}},ctl00$ContentPlaceHolder1$fuPaspoortFoto:{validators:{notEmpty:{message:"U dient een bestand te kiezen."},file:{extension:"png,jpeg,jpg,pdf",type:"image/png,image/jpg,image/jpeg,application/pdf",maxSize:2097152,message:"U kunt alleen een png, jpeg, jpg of pdf bestand uploaden van maximaal 2MB."}}},ctl00$ContentPlaceHolder1$fuVliegticket:{validators:{file:{extension:"png,jpeg,jpg,pdf",type:"image/png,image/jpg,image/jpeg,application/pdf",maxSize:2097152,message:"U kunt alleen een png, jpeg, jpg of pdf bestand uploaden van maximaal 2MB."}}},ctl00$ContentPlaceHolder1$fuVerblijf:{validators:{file:{extension:"png,jpeg,jpg,pdf",type:"image/png,image/jpg,image/jpeg,application/pdf",maxSize:2097152,message:"U kunt alleen een png, jpeg, jpg of pdf bestand uploaden van maximaal 2MB."}}}}})}function initStepFour(){sExtra();AjaxRequest("POST","/aanvragen.aspx/selectFellowTravelers",{bOnlyFellow:!1},"","json",function(){if(sMsg.d!==""){objFellow=JSON.parse(sMsg.d);lllIndex=objFellow.length;iFellow=0;$(".JS-traveler:not(.hidden)").remove();for(var n=0;n<lllIndex;n++)addFellowTravelers()}})}function sExtra(){var n=$("#ddlVisums").find("option:selected").data("id"),t=$(".JS-extra");n&&AjaxRequest("POST","/aanvragen.aspx/sExtra",{iArtikelID:n},"","json",function(){if(sMsg.d!==""){var n=JSON.parse(sMsg.d);$(".JS-extra input[type='checkbox']").each(function(){var i=parseInt(this.id),t=n.findIndex(function(n){return n.iArtikelID===i});t!==-1?n.splice(t,1):$(this).parents(".JS-parent").remove()});$.each(n,function(n,i){var r=$("<li>").addClass("JS-parent checkbox");$("<input>").attr({type:"checkbox",value:i.iPrijs,id:i.iArtikelID,"class":"checkbox",checked:i.checked!==0}).appendTo(r);$("<label>").attr("for",i.iArtikelID).html(i.sArtikel+"(&euro;"+parseFloat(i.iPrijs).toFixed(2).toString().replace(".",",")+")").appendTo(r);r.appendTo(t)});calculateTotal()}})}function calculateTotal(){var n=$(".JS-subtotaal").data("price"),t;$(".JS-extra input[type='checkbox']:checked").each(function(){n+=parseFloat($(this).val())});t=$("#ddlVerzendmethodes option:selected").data("price");t&&(n+=parseInt(t));$(".JS-totaal").html(n.toFixed(2).toString().replace(".",","))}function addFellowTravelers(){var n=$(".JS-traveler.hidden").clone(),t;n.removeClass("hidden");iFellow?n.find(".JS-traveler-count").html(iFellow):n.find("b.title").html("Reiziger");t=objFellow[iFellow];t!==undefined&&(n.find("li[data-f-id]").each(function(){$(this).html(t[$(this).attr("data-f-id")])}),t.cbFellowAddress||n.find(".JS-traverel-address").addClass("hidden"));n.insertAfter(".JS-traveler:last");iFellow+1===lllIndex&&$(".loading").hide();iFellow++}var objFellow,iFellowThree,countFellowSave;$(document).ready(function(){$(".txtHouseNr").blur(function(){var n,t,r,i,u;$(".ddlCountry").find(":selected").data("code")==="NL"&&($("#").focus(),$(".loading").show(),n=$(".txtZipCode").val(),t=$(".txtHouseNr").val(),n.length>=6?t.length>0?(r=n.substring(0,4),n.length===6&&(i=n.substring(4,6)),n.length===7&&(i=n.substring(5,7)),u={sWijkCode:r,sStraatCode:i,sNummer:t},AjaxRequest("POST","/Data/AdresCompleet.aspx/sAdres",u,"#lblAdresInfo","json","sAdresCallback")):$(".loading").hide():$(".loading").hide())})});$(document).ready(function(){$(".JS-aanvragen").length>0&&load()});$(document).on("change",".JS-file",function(){var n=$(this).prop("files");n.length>0?($(".loading").show(),getBase64(n[0],this)):($(this).removeData("src"),$(this).removeData("ext"))});!function(n){function t(t,i,r,u,f,e,o){var l,a,h,c,s;if($listenerElement=n(".sticky-element-active"),l=$listenerElement.offset(),(orgElementTop=l.top,f)&&(a=n(f).offset(),pushElementTop=a.top),h=window,c="inner","innerWidth"in window||(c="client",h=document.documentElement||document.body),viewport=h[c+"Width"],n(window).scrollTop()>=orgElementTop-t&&viewport>=i&&viewport<=r){coordsOrgElement=$listenerElement.offset();leftOrgElement=coordsOrgElement.left;widthPlaceholder=$listenerElement[0].getBoundingClientRect().width;widthPlaceholder||(widthPlaceholder=$listenerElement.css("width"));heightPlaceholder=$listenerElement[0].getBoundingClientRect().height;heightPlaceholder||(heightPlaceholder=$listenerElement.css("height"));widthSticky=n(".sticky-element-original").css("width");"0px"==widthSticky&&(widthSticky=n(".sticky-element-original")[0].getBoundingClientRect().width);heightSticky=n(".sticky-element-original").height();paddingOrgElement=[n(".sticky-element-original").css("padding-top"),n(".sticky-element-original").css("padding-right"),n(".sticky-element-original").css("padding-bottom"),n(".sticky-element-original").css("padding-left")];paddingSticky=paddingOrgElement[0]+" "+paddingOrgElement[1]+" "+paddingOrgElement[2]+" "+paddingOrgElement[3];marginOrgElement=[$listenerElement.css("margin-top"),$listenerElement.css("margin-right"),$listenerElement.css("margin-bottom"),$listenerElement.css("margin-left")];marginPlaceholder=marginOrgElement[0]+" "+marginOrgElement[1]+" "+marginOrgElement[2]+" "+marginOrgElement[3];assignedStyles="";for(s in e)assignedStyles+="inline"==e[s]?s+":inline-block; ":s+":"+e[s]+"; ";elementHeight=0;elementHeight=heightPlaceholder<1?n(".sticky-element-cloned").outerHeight():n(".sticky-element-original").outerHeight();stickyTopMargin=f&&n(window).scrollTop()>pushElementTop-t-elementHeight?pushElementTop-t-elementHeight-n(window).scrollTop():0;assignedStyles+="width:"+widthPlaceholder+"px; height:"+heightPlaceholder+"px; margin:"+marginPlaceholder+";";n(".sticky-element-original").removeClass("sticky-element-not-sticky").addClass("sticky-element-sticky").removeClass("sticky-element-active").css("position","fixed").css("left",leftOrgElement+"px").css("top",t+"px").css("width",widthSticky).css("margin-left",0).css("padding",paddingSticky).css("margin-top",stickyTopMargin).css("z-index",u);n(".sticky-element-placeholder").hasClass("sticky-element-active")||n(".sticky-element-placeholder").addClass("sticky-element-active").attr("style",assignedStyles)}else n(".sticky-element-original").addClass("sticky-element-not-sticky").removeClass("sticky-element-sticky").addClass("sticky-element-active").attr("style",o),n(".sticky-element-placeholder").hasClass("sticky-element-active")&&n(".sticky-element-placeholder").removeClass("sticky-element-active").removeAttr("style").css("width","0").css("height","0").css("margin","0").css("padding","0")}function i(){n(".sticky-element-original").addClass("sticky-element-active").before('<div class="sticky-element-placeholder" style="width:0; height:0; margin:0; padding:0; visibility:hidden;"><\/div>')}function r(n){return o={},o.display=n.css("display"),o.float=n.css("float"),o.flex=n.css("flex"),o["box-sizing"]=n.css("box-sizing"),o.clear=n.css("clear"),o.overflow=n.css("overflow"),o.transform=n.css("transform"),o}n.fn.stickThis=function(u){var f=n.extend({top:0,minscreenwidth:0,maxscreenwidth:99999,zindex:1,debugmode:!1,pushup:""},u),o=n(this).length,e=n(f.pushup).length;return e<1?(1==f.debugmode&&f.pushup&&console.error('STICKY ANYTHING DEBUG: There are no elements with the selector/class/ID you selected for the Push-up element ("'+f.pushup+'").'),f.pushup=""):e>1&&(1==f.debugmode&&console.error("STICKY ANYTHING DEBUG: There are "+e+' elements on the page with the selector/class/ID you selected for the push-up element ("'+f.pushup+'"). You can select only ONE element to push the sticky element up.'),f.pushup=""),o<1?1==f.debugmode&&console.error('STICKY ANYTHING DEBUG: There are no elements with the selector/class/ID you selected for the sticky element ("'+this.selector+'").'):o>1?1==f.debugmode&&console.error("STICKY ANYTHING DEBUG: There There are "+e+' elements with the selector/class/ID you selected for the sticky element ("'+this.selector+'"). You can only make ONE element sticky.'):(n(this).addClass("sticky-element-original").addClass("sticky-element-not-sticky"),orgAssignedStyles=r(n(this)),orgInlineStyles=n(".sticky-element-original").attr("style"),null==orgInlineStyles&&(orgInlineStyles=""),i(),checkElement=setInterval(function(){t(f.top,f.minscreenwidth,f.maxscreenwidth,f.zindex,f.pushup,orgAssignedStyles,orgInlineStyles)},10)),this}}(jQuery);$(document).on("click",".btn-step[data-step='2']",function(){event.preventDefault();var n=$(".JS-step[data-step='2']").data("formValidation");n.validate().$invalidFields.length||(scrollTop(),saveStepTwo())});$(".file-input input").change(function(){$(this).parent().find("label").text(this.files[0].name)});objFellow=[];iFellowThree=0;$(document).on("click",".btn-fellow-add",addFellow);$(document).on("click",".btn-step[data-step='3']",function(){var n=!0;$(".JS-fellow:not(.hidden)").each(function(){var t=$(this).data("formValidation");t.validate().$invalidFields.length&&(n=!1)});n&&saveFellow()});countFellowSave=0;$(document).on("click",".btn-fellow-del",removeFellow);$(document).on("change",".JS-fellow-cbAddress, .JS-fellow-cbDate",function(){showExtra(this)});var objFellow=[],iFellow=0,lllIndex=0;$(document).on("change",".JS-extra input[type='checkbox']",function(){var t=this.id,n=$(this);AjaxRequest("POST","/aanvragen.aspx/iuExtra",{iArtikelID:t},"","json",function(){if(sMsg.d!==""){var t=JSON.parse(sMsg.d);switch(t.msg){case"deleted":n.prop("checked",!1);break;case"added":n.prop("checked",!0);break;case"error":n.prop("checked",!1)}}calculateTotal()})});$(document).on("change","#ddlVerzendmethodes",calculateTotal);